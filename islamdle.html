<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islamdle - Lodle Version</title>
    <style>
        /* CSS Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #222;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
        }

        h1 {
            margin-bottom: 20px;
        }

        table {
            width: 100%;
            max-width: 800px;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th, td {
            padding: 10px;
            text-align: center;
            border: 1px solid #555;
        }

        th {
            background-color: #333;
        }

        .correct {
            background-color: #538D4E;
        }

        .incorrect {
            background-color: #8B0000;
        }

        .partial {
            background-color: #FFD700;
        }

        input {
            padding: 10px;
            font-size: 16px;
        }

        button {
            padding: 10px 20px;
            background-color: #538D4E;
            color: #fff;
            border: none;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
        }

        button:hover {
            background-color: #457B3A;
        }

        #result {
            margin-top: 20px;
        }

        #suggestions {
            background-color: #333;
            color: white;
            max-height: 150px;
            overflow-y: auto;
            width: 100%;
            max-width: 800px;
            margin-top: 5px;
            border: 1px solid #555;
        }

        .suggestion-item {
            padding: 10px;
            cursor: pointer;
        }

        .suggestion-item:hover {
            background-color: #538D4E;
        }

        td:after {
            font-size: 12px;
            padding-left: 5px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <h1>Islamdle - Lodle Style</h1>

    <table>
        <thead>
            <tr>
                <th>Prophète</th>
                <th>Genre</th>
                <th>Rôle</th>
                <th>Espèce</th>
                <th>Ressource</th>
                <th>Type de portée</th>
                <th>Région</th>
                <th>Date de naissance avant Hégire</th>
            </tr>
        </thead>
        <tbody id="guess-table">
            <!-- Dynamic content will be added here -->
        </tbody>
    </table>

    <input type="text" id="guess-input" placeholder="Entrez le nom du prophète..." />
    <div id="suggestions"></div>
    <button id="submit-guess">Valider</button>

    <div id="result"></div>

    <script>
            const prophets = [
        {
            name: "MOHAMED",
            genre: "Masculin",
            role: "Prophète",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Arabie",
            annee: 622 - 570 // 52 ans avant l'Hégire
        },
        {
            name: "MOUSSA",
            genre: "Masculin",
            role: "Prophète",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Égypte",
            annee: 622 - 1393 // environ 771 ans avant l'Hégire
        },
        {
            name: "ISSA",
            genre: "Masculin",
            role: "Prophète",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Palestine",
            annee:  - 622 // environ 622 ans avant l'Hégire
        },
        {
            name: "IBRAHIM",
            genre: "Masculin",
            role: "Prophète",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Mésopotamie",
            annee: 622 - 2000 // environ 1378 ans avant l'Hégire
        },
        {
            name: "NOUH",
            genre: "Masculin",
            role: "Prophète",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Moyen-Orient",
            annee: 622 - 3000 // environ 2378 ans avant l'Hégire
        },
        {
            name: "YOUSSOUF",
            genre: "Masculin",
            role: "Prophète",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Égypte",
            annee: 622 - 1600 // environ 978 ans avant l'Hégire
        },
        {
            name: "YOUNOUS",
            genre: "Masculin",
            role: "Prophète",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Ninive",
            annee: 622 - 800 // environ 178 ans avant l'Hégire
        },
        {
            name: "DAWOUD",
            genre: "Masculin",
            role: "Prophète et Roi",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Israël",
            annee: 622 - 1000 // environ 378 ans avant l'Hégire
        },
        {
            name: "SULAIMAN",
            genre: "Masculin",
            role: "Prophète et Roi",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Israël",
            annee: 622 - 970 // environ 348 ans avant l'Hégire
        },
        {
            name: "AYOUB",
            genre: "Masculin",
            role: "Prophète",
            espece: "Humain",
            ressource: "Foi",
            type_portee: "Oral",
            region: "Arabie",
            annee: 622 - 1400 // environ 778 ans avant l'Hégire
        },
        {
            name: "DJIBRIL",
            genre: "Masculin",
            role: "Ange",
            espece: "Céleste",
            ressource: "Aucune",
            type_portee: "Spirituel",
            region: "Cieux",
            annee: "Inconnu"
        },
        {
            name: "MIKAEL",
            genre: "Masculin",
            role: "Ange",
            espece: "Céleste",
            ressource: "Aucune",
            type_portee: "Spirituel",
            region: "Cieux",
            annee: "Inconnu"
        },
        {
            name: "ISRAFIL",
            genre: "Masculin",
            role: "Ange",
            espece: "Céleste",
            ressource: "Aucune",
            type_portee: "Spirituel",
            region: "Cieux",
            annee: "Inconnu"
        },
        {
            name: "MALIK",
            genre: "Masculin",
            role: "Ange",
            espece: "Céleste",
            ressource: "Aucune",
            type_portee: "Spirituel",
            region: "Enfer",
            annee: "Inconnu"
        },
        {
            name: "RIDWAN",
            genre: "Masculin",
            role: "Ange",
            espece: "Céleste",
            ressource: "Aucune",
            type_portee: "Spirituel",
            region: "Paradis",
            annee: "Inconnu"
        }
    ];


        const randomProphet = prophets[Math.floor(Math.random() * prophets.length)];

        const guessTable = document.getElementById("guess-table");
        const guessInput = document.getElementById("guess-input");
        const submitGuess = document.getElementById("submit-guess");
        const resultDiv = document.getElementById("result");

        function addRow(guess, attributes) {
    const row = document.createElement('tr');

    for (const key in attributes) {
        const cell = document.createElement('td');
        
        // Si c'est l'année de naissance, on fait la comparaison
        if (key === 'annee') {
            cell.textContent = guess[key];

            // Comparer l'année du personnage deviné avec l'année du personnage à deviner
            if (guess[key] > attributes[key]) {
                cell.textContent += ' ▼'; // Flèche vers le bas (année plus tardive)
                cell.classList.add("incorrect");
            } else if (guess[key] < attributes[key]) {
                cell.textContent += ' ▲'; // Flèche vers le haut (année plus ancienne)
                cell.classList.add("incorrect");
            } else {
                cell.classList.add("correct"); // Si l'année est correcte
            }
        } else {
            // Comparaison pour les autres attributs
            cell.textContent = guess[key];
            if (guess[key] === attributes[key]) {
                cell.classList.add("correct");
            } else {
                cell.classList.add("incorrect");
            }
        }

        row.appendChild(cell);
    }

    guessTable.appendChild(row);
}

        submitGuess.addEventListener("click", () => {
            const guessName = guessInput.value.toUpperCase().trim();
            const guess = prophets.find(prophet => prophet.name === guessName);

            if (guess) {
                addRow(guess, randomProphet);
            } else {
                resultDiv.textContent = "Prophète non trouvé ! Essayez à nouveau.";
            }

            guessInput.value = ""; // Clear input field
            document.getElementById("suggestions").innerHTML = ""; // Clear suggestions after submission
        });

        // Met à jour les suggestions en fonction de l'entrée utilisateur
        function updateSuggestions(inputValue) {
            const suggestionsDiv = document.getElementById("suggestions");
            suggestionsDiv.innerHTML = ""; // Vide les suggestions actuelles

            if (inputValue.length > 0) {
                const filteredProphets = prophets.filter(prophet => prophet.name.includes(inputValue.toUpperCase()));

                if (filteredProphets.length > 0) {
                    filteredProphets.forEach(prophet => {
                        const suggestionItem = document.createElement("div");
                        suggestionItem.classList.add("suggestion-item");
                        suggestionItem.textContent = prophet.name;

                        // Ajoute un événement au clic sur la suggestion pour remplir l'input
                        suggestionItem.addEventListener("click", () => {
                            guessInput.value = prophet.name;
                            suggestionsDiv.innerHTML = ""; // Cache les suggestions après la sélection
                        });

                        suggestionsDiv.appendChild(suggestionItem);
                    });
                } else {
                    const noResult = document.createElement("div");
                    noResult.classList.add("suggestion-item");
                    noResult.textContent = "Aucune correspondance trouvée";
                    suggestionsDiv.appendChild(noResult);
                }
            }
        }

        // Ajoute un écouteur d'événement sur l'input pour mettre à jour les suggestions
        guessInput.addEventListener("input", () => {
            const inputValue = guessInput.value.trim();
            updateSuggestions(inputValue);
        });
    </script>
</body>
</html>
